# AI批量总结助手

一个基于 Streamlit 的工具，用于批量处理文本文件并使用大语言模型生成摘要。支持多个AI服务提供商，可自定义提示词和处理方式。

## 主要功能

### 1. 多模型支持
- 阿里通义（通义千问系列）
- 百度文心（文心一言系列）
- 智谱AI（ChatGLM系列）
- DeepSeek
- 硅基流动（Qwen系列）
- 支持添加自定义AI提供商

### 2. Prompt管理
- 预设多种处理模式（文章总结、代码分析等）
- 支持添加、删除自定义prompt
- prompt内容可视化预览

### 3. 批量处理
- 递归扫描指定目录下所有txt文件
- 自动保存处理结果为markdown格式
- 实时显示处理进度和结果

## 部署说明

### 1. 环境准备
```bash
# 创建conda环境
conda create -n aisummary python=3.10
conda activate aisummary

# 安装依赖
pip install -r requirements.txt
```

### 2. 配置文件
程序会自动创建并维护 `config.json` 配置文件，包含：
- API密钥配置
- 自定义AI提供商设置
- 自定义prompt保存

### 3. 启动方式
- 使用启动脚本：双击 `start.bat`
- 或手动启动：
```bash
conda activate aisummary
python -m streamlit run app.py
```

## 使用指南

### 1. 基础配置
1. 在侧边栏选择AI提供商
2. 配置对应的API Key
3. 选择要使用的模型

### 2. 自定义AI提供商
1. 展开"添加新的AI提供者"
2. 填写提供商名称和API基础地址
3. 添加该提供商支持的模型
4. 保存配置

### 3. Prompt管理
1. 从预设prompt中选择，或添加自定义prompt
2. 展开"添加新的Prompt"以创建自定义处理方式
3. 可随时预览当前使用的prompt内容

### 4. 文件处理
1. 在主界面输入要处理的目录路径
2. 点击"开始处理"
3. 等待处理完成，查看结果列表

## 注意事项

1. API密钥安全
   - API密钥保存在本地配置文件中
   - 请勿分享配置文件给他人
   - 建议定期更新API密钥

2. 文件处理
   - 仅处理txt格式文件
   - 结果文件与源文件同名，扩展名改为.md
   - 确保目录有足够的写入权限

3. 性能考虑
   - 处理大量文件时可能需要较长时间
   - 建议分批处理大量文件
   - 注意API调用频率限制

## 常见问题

1. 启动失败
   - 检查conda环境是否正确激活
   - 确认所有依赖已正确安装
   - 查看控制台错误信息

2. 处理失败
   - 确认API密钥正确且有效
   - 检查网络连接状态
   - 确认文件编码格式（推荐UTF-8）

3. 结果异常
   - 检查prompt是否符合预期
   - 确认源文件内容是否完整
   - 查看API调用是否成功
